!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return new Array(e).fill(0).map((function(){return new Array(e).fill(0)})).map((function(e){return e.map((function(){return Math.random()<t?1:0}))}))}function u(e){for(var t=e.map((function(e){return e.slice()})),n=e.map((function(e){return e.slice()})),r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++){if(0==r&0==i){var o=t[r+1][i]+t[r][i+1]+t[r+1][i+1];3==o&0==t[r][i]&&(n[r][i]=1),!((o>3|o<2)&1==t[r][i])||(n[r][i]=0)}if(0==r&(0!=i|i!=t[r].length-1)){for(var a=0,l=0;l<2;l++)for(var s=-1;s<2;s+=2-1*l)a+=t[r+l][i+s];!(a>3|a<2)||(n[r][i]=0),0==t[r][i]&3==a&&(n[r][i]=1)}if(r==t[r].length-1&(0!=i|i!=t[r].length-1)){a=0;for(var c=0;c<2;c++)for(var u=-1;u<2;u+=2-1*c)a+=t[r-c][i+u];!(a>3|a<2)||(n[r][i]=0),0==t[r][i]&3==a&&(n[r][i]=1)}if(0==i&0!=r&r!=t[r].length-1){a=0;for(var f=0;f<2;f++)for(var h=-1;h<2;h+=2-1*f)a+=t[r+h][i+f];!(a>3|a<2)||(n[r][i]=0),0==t[r][i]&3==a&&(n[r][i]=1)}if(i==t[r].length-1&0!=r&r!=t[r].length-1){a=0;for(var d=0;d<2;d++)for(var p=-1;p<2;p+=2-1*d)a+=t[r+p][i-d];!(a>3|a<2)||(n[r][i]=0),0==t[r][i]&3==a&&(n[r][i]=1)}if(0==i&r==t[r].length-1){var y=t[r-1][i]+t[r][i+1]+t[r-1][i+1];3==y&0==t[r][i]&&(n[r][i]=1),!((y>3|y<2)&1==t[r][i])||(n[r][i]=0)}if(0==r&i==t[r].length-1)3==(v=t[r+1][i]+t[r][i-1]+t[r+1][i-1])&0==t[r][i]&&(n[r][i]=1),!((v>3|v<2)&1==t[r][i])||(n[r][i]=0);if(r==t[r].length-1&i==t[r].length-1){var m=t[r-1][i]+t[r][i-1]+t[r-1][i-1];3==m&0==t[r][i]&&(n[r][i]=1),!((m>3|m<2)&1==t[r][i])||(n[r][i]=0)}if(0!=r&r!=t[r].length-1&0!=i&i!=t[r].length-1){for(var v=0,b=-1;b<2;b++)for(var g=-1;g<2;g+=2-1*Math.pow(b,2))v+=t[r+b][i+g];3==v&0==t[r][i]&&(n[r][i]=1),!((v>3|v<2)&1==t[r][i])||(n[r][i]=0)}}return n}var f=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=a(this,l(t).call(this,e))).state={field:c(n.props.size,n.props.rand),history:[],cellsAlive:0,active:!1,period:0,rand:.1,gen:0},n}var n,r,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,React.Component),n=t,(r=[{key:"historyWrite",value:function(){var e=this.state.field.slice().map((function(e){return e.join()})).join();this.setState({cellsAlive:e.split(",").filter((function(e){return"0"!=e})).join().length}),this.state.history.length<10&&this.setState({history:[].concat(i(this.state.history),[e])}),10==this.state.history.length&&this.setState((function(t){return{history:[].concat(i(t.history.filter((function(e,t){return 0!==t}))),[e])}}))}},{key:"renderCell",value:function(e){return 1==e.value?React.createElement("td",{className:"cell",id:"alive",key:e.skey}):React.createElement("td",{className:"cell",id:"dead",key:e.skey})}},{key:"randomize",value:function(){this.setState({gen:0,history:[],field:c(this.props.size,this.state.rand)})}},{key:"finish",value:function(){if(0!=this.state.period)return 1==this.state.period?React.createElement("div",{id:"finish"},"There is stable configuration"):React.createElement("div",{id:"finish"},"There is periodic configuration with period = ",this.state.period)}},{key:"nextGen",value:function(){this.setState({field:u(this.state.field),gen:this.state.gen+1}),this.isFinished(),this.historyWrite()}},{key:"stop",value:function(){this.setState({life:!1}),clearInterval(this.timerID)}},{key:"life",value:function(){var e=this;this.setState({life:!0,period:0}),this.timerID=setInterval((function(){return e.nextGen()}),1e3)}},{key:"lifeHandler",value:function(){return this.state.life?React.createElement("button",{className:"control",onClick:this.stop.bind(this)},"Stop"):this.state.life?void 0:React.createElement("button",{className:"control",id:"start",onClick:this.life.bind(this)},"Start")}},{key:"isFinished",value:function(){for(var e=this.state.field.slice().map((function(e){return e.join()})).join(),t=0;t<this.state.history.length;t++)e==this.state.history[t]&&this.setState({period:this.state.history.length-t})}},{key:"render",value:function(){for(var e=this,t=[],n=[],r=0,i=0;i<this.state.field.length;i++){for(var o=0;o<this.state.field[i].length;o++)n.push(React.createElement(this.renderCell,{value:this.state.field[i][o],key:r++}));t.push(React.createElement("tr",{key:r++,className:"row"},n)),n=[]}return React.createElement("div",null,React.createElement("table",null,React.createElement("tbody",null,t)),React.createElement("div",{id:"controlpanel"},React.createElement("div",null,this.lifeHandler()),React.createElement("button",{className:"control",onClick:this.randomize.bind(this)},"Randomize"),React.createElement("input",{className:"control",id:"rand",type:"number",min:"0",max:"100",name:"randomness",defaultValue:"10",onChange:function(){return e.setState({rand:document.getElementById("rand").value/100})}})),React.createElement("div",{id:"info"},React.createElement("div",{className:"info"},"Current generation: ",this.state.gen),React.createElement("div",{className:"info"},"Cells alive: ",this.state.cellsAlive),React.createElement("div",{className:"info"},this.finish())))}}])&&o(n.prototype,r),f&&o(n,f),t}(),h=document.getElementById("1");ReactDOM.render(React.createElement(f,{size:50}),h)}]);